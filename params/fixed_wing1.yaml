# Fixed Wing 1 configuration
name: wing1
accurate_integration: true
control_using_estimates: false

# Physical parameters
x0: [0, 0, -10,    # POS
     16.3696, 0, 0.584703,    # VEL
     0, 0, 0,    # LIN ACC
     0.999841, 0, 0.0178509, 0, # ATT
     0, 0, 0,    # OMEGA
     0, 0, 0]    # ANG ACC

compute_trim: true
Va_star: 16.38 # desired air speed
R_star: 1e16 # desired turn radius
gamma_star: 0.0 # desired flight path angle

C_F_t: 19.2089
C_tau_t: 0

mass: 3.92

Jx: 0.213
Jy: 0.171
Jz: 0.350
Jxz: 0.04

rho: 1.2682
wing_S: 0.468
wing_b: 1.8
wing_c: 0.26
wing_M: 50
wing_epsilon: 0.1592
wing_alpha0: 0.3040363557

k_motor: 40.0
k_T_p: 0.0
k_Omega: 0.0

prop_e: 0.8
prop_S: 0.0314
prop_C: 1.0

C_L_0: 0.2869
C_L_alpha: 5.1378
C_L_beta: 0.0
C_L_p: 0.0
C_L_q: 1.7102
C_L_r: 0.0
C_L_delta_a: 0.0
C_L_delta_e: 0.5202
C_L_delta_r: 0.0

C_D_0: 0.03087
C_D_alpha: 0.0043021
C_D_beta: 0.0
C_D_p: 0.02815
C_D_q: 0.2514
C_D_r: 0.0
C_D_delta_a: 0.0
C_D_delta_e: 0.01879
C_D_delta_r: 0.0

C_el_0: 0.0
C_el_alpha: 0.00
C_el_beta: 0.0193
C_el_p: -0.5406
C_el_q: 0.0
C_el_r: 0.1929
C_el_delta_a: 0.2818
C_el_delta_e: 0.0
C_el_delta_r: 0.00096

C_m_0: 0.0362
C_m_alpha: -0.2627
C_m_beta: 0.0
C_m_p: 0.0
C_m_q: -9.7213
C_m_r: 0.0
C_m_delta_a: 0.0
C_m_delta_e: -1.2392
C_m_delta_r: 0.0

C_n_0: 0.0
C_n_alpha: 0.0
C_n_beta: 0.08557
C_n_p: -0.0498
C_n_q: 0.0
C_n_r: -0.0572
C_n_delta_a: 0.0095
C_n_delta_e: 0.0
C_n_delta_r: -0.06

C_Y_0: 0.0
C_Y_alpha: 0.00
C_Y_beta: -0.2471
C_Y_p: -0.07278
C_Y_q: 0.0
C_Y_r: 0.1849
C_Y_delta_a: -0.02344
C_Y_delta_e: 0.0
C_Y_delta_r:  0.1591

delta_a_max: 0.7854
delta_e_max: 0.7854
delta_r_max: 0.7854

# Waypoint LQR Controller
plqr_v_ref: [16.3696, 0, 0.584703]
plqr_q_ref: [0.999841, 0, 0.0178509, 0]
plqr_omega_ref: [0, 0, 0]
plqr_u_ref: [0, 0.0216435, 0.171139, 0]
plqr_max_p_error: 3.0
plqr_max_v_error: 1.0
plqr_max_q_error: 0.175
plqr_max_omega_error: 0.175
plqr_Q: [1e0, 1e0, 1e3, # position
         1e1, 1e1, 1e1, # velocity
         1e1, 1e1, 1e1, # attitude
         1e2, 1e2, 1e2] # angular rate
plqr_R: [1e3, 1e3, 1e3, 1e3] # [aileron, elevator, throttle, rudder]


# Trajectory

# 0: waypoints
# 1: trajectory
# 2: circumnavigation
path_type: 0

waypoints: [50, 0, -10,
            50, 0, -10,
            50, 50, -10,
            0, 50, -10]
waypoint_threshold: 5.0

traj_delta_north: 50
traj_delta_east: 50
traj_delta_alt: -10
traj_nom_north: 0
traj_nom_east: 0
traj_nom_alt: 5
traj_north_period: 20
traj_east_period: 20
traj_alt_period: 1e16

circ_rd: 5.0
circ_hd: 5.0


# Sensors
imu_enabled: true
camera_enabled: false
mocap_enabled: false

use_accel_truth: false
use_gyro_truth: false
use_camera_truth: false
use_mocap_truth: false

## IMU
imu_update_rate: 250
p_bu: [0.0, 0.0, 0.0] # translation from body to IMU in body frame
q_bu: [1.0, 0.0, 0.0, 0.0] # rotation from body to IMU frame

accel_noise_stdev: 0.5
accel_bias_init_bound: 0.5
accel_walk_stdev: 0.1

gyro_noise_stdev: 0.1
gyro_bias_init_bound: 0.2
gyro_walk_stdev: 0.01

## Camera
camera_max_features: 10000 # maximum number of features to project into image
camera_update_rate: 50
pixel_noise_stdev: 0.5
image_size: [640, 480]
camera_matrix: [480,   0, 320,
                  0, 480, 240,
                  0,   0,   1]
p_bc: [0.1, 0, 0.05] # translation from body to camera in body frame
q_bc: [0.5, 0.5, 0.5, 0.5] # rotation from body to camera
save_pixel_measurements: true

## Motion Capture
mocap_update_rate: 50
mocap_noise_stdev: 0.001
p_bm: [0.1, 0.1, 0.1] # translation from body to mocap_body in body frame
q_bm: [0.9928, 0.0447, 0.0547, 0.0971] # rotation from body to mocap_body

## Depth
## Altimeter
## Barometer
## Magnetometer
## GPS
